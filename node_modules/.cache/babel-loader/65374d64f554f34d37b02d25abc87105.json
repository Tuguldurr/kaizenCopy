{"ast":null,"code":"import _classCallCheck from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tuguldursaikhan/Desktop/kaizen/src/components/dashboard/CRM/RecentActivity.js\";\nimport React from \"react\";\nimport { Avatar, Timeline } from \"antd\";\nimport WidgetHeader from \"components/WidgetHeader/index\";\nimport ActivityItem from \"./ActivityItem\";\nvar TimeLineItem = Timeline.Item;\n\nfunction getName(task, shape) {\n  if (task.avatar === '') {\n    var nameSplit = task.name.split(\" \");\n\n    if (task.name.split(\" \").length === 1) {\n      var initials = nameSplit[0].charAt(0).toUpperCase();\n      return React.createElement(Avatar, {\n        shape: shape,\n        className: \"gx-size-40 gx-bg-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, initials);\n    } else {\n      var _initials = nameSplit[0].charAt(0).toUpperCase() + nameSplit[1].charAt(0).toUpperCase();\n\n      return React.createElement(Avatar, {\n        shape: shape,\n        className: \"gx-size-40 gx-bg-cyan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, _initials);\n    }\n  } else {\n    return React.createElement(Avatar, {\n      shape: shape,\n      className: \"gx-size-40\",\n      src: task.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    });\n  }\n}\n\nvar RecentActivity =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RecentActivity, _React$Component);\n\n  function RecentActivity(props) {\n    var _this;\n\n    _classCallCheck(this, RecentActivity);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecentActivity).call(this, props));\n    _this.state = {\n      width: 0,\n      height: 0,\n      recentList: [],\n      shape: '',\n      limit: 3\n    };\n    _this.updateWindowDimensions = _this.updateWindowDimensions.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(RecentActivity, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        height: window.innerHeight + 'px',\n        width: window.innerWidth + 'px',\n        recentList: this.props.recentList,\n        shape: this.props.shape\n      });\n\n      if (window.innerWidth < 575) {\n        this.setState({\n          limit: 1\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateWindowDimensions();\n      window.addEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"updateWindowDimensions\",\n    value: function updateWindowDimensions() {\n      this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }\n  }, {\n    key: \"onLoadMore\",\n    value: function onLoadMore() {\n      this.setState(function (previousState) {\n        return {\n          limit: previousState.limit + 1\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          recentList = _this$state.recentList,\n          shape = _this$state.shape,\n          limit = _this$state.limit;\n      return React.createElement(\"div\", {\n        className: \"gx-entry-sec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(WidgetHeader, {\n        title: \"Recent Activities\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), recentList.slice(0, limit).map(function (activity, index) {\n        return React.createElement(\"div\", {\n          className: \"gx-timeline-info\",\n          key: \"activity\" + index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"gx-timeline-info-day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, activity.day), React.createElement(Timeline, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, activity.tasks.map(function (task, index) {\n          return React.createElement(TimeLineItem, {\n            key: \"timeline\" + index,\n            mode: \"alternate\",\n            dot: getName(task, shape),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(ActivityItem, {\n            task: task,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }));\n        })));\n      }), React.createElement(\"span\", {\n        className: \"gx-link gx-btn-link\",\n        onClick: this.onLoadMore.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Load More\"));\n    }\n  }]);\n\n  return RecentActivity;\n}(React.Component);\n\nexport default RecentActivity;","map":{"version":3,"sources":["/home/tuguldursaikhan/Desktop/kaizen/src/components/dashboard/CRM/RecentActivity.js"],"names":["React","Avatar","Timeline","WidgetHeader","ActivityItem","TimeLineItem","Item","getName","task","shape","avatar","nameSplit","name","split","length","initials","charAt","toUpperCase","RecentActivity","props","state","width","height","recentList","limit","updateWindowDimensions","bind","setState","window","innerHeight","innerWidth","addEventListener","removeEventListener","previousState","slice","map","activity","index","day","tasks","onLoadMore","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Avatar, Timeline} from \"antd\";\nimport WidgetHeader from \"components/WidgetHeader/index\";\nimport ActivityItem from \"./ActivityItem\";\n\nconst TimeLineItem = Timeline.Item;\n\nfunction getName(task, shape) {\n  if (task.avatar === '') {\n    let nameSplit = task.name.split(\" \")\n    if (task.name.split(\" \").length === 1) {\n      const initials = nameSplit[0].charAt(0).toUpperCase();\n      return <Avatar shape={shape} className=\"gx-size-40 gx-bg-primary\">{initials}</Avatar>\n    } else {\n      const initials = nameSplit[0].charAt(0).toUpperCase() + nameSplit[1].charAt(0).toUpperCase();\n      return <Avatar shape={shape} className=\"gx-size-40 gx-bg-cyan\">{initials}</Avatar>\n    }\n  } else {\n    return <Avatar shape={shape} className=\"gx-size-40\" src={task.avatar}/>;\n  }\n}\n\nclass RecentActivity extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      height: 0,\n      recentList: [],\n      shape: '',\n      limit: 3\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n  }\n\n  componentWillMount() {\n    this.setState({\n      height: window.innerHeight + 'px',\n      width: window.innerWidth + 'px',\n      recentList: this.props.recentList,\n      shape: this.props.shape\n    });\n    if (window.innerWidth < 575) {\n      this.setState({limit: 1});\n    }\n\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions() {\n    this.setState({width: window.innerWidth, height: window.innerHeight});\n  }\n\n  onLoadMore() {\n    this.setState((previousState) => ({\n      limit: previousState.limit + 1,\n    }));\n  }\n\n\n  render() {\n    const {recentList, shape, limit} = this.state;\n    return (\n      <div className=\"gx-entry-sec\">\n        <WidgetHeader title=\"Recent Activities\"/>\n        {recentList.slice(0, limit).map((activity, index) =>\n          <div className=\"gx-timeline-info\" key={\"activity\" + index}>\n            <h4 className=\"gx-timeline-info-day\">{activity.day}</h4>\n            <Timeline>\n              {activity.tasks.map((task, index) => {\n\n                return <TimeLineItem key={\"timeline\" + index} mode=\"alternate\" dot={\n                  getName(task, shape)\n                }>\n                  <ActivityItem task={task}/>\n                </TimeLineItem>\n              })}\n            </Timeline>\n          </div>)}\n        <span className=\"gx-link gx-btn-link\" onClick={this.onLoadMore.bind(this)}>Load More</span>\n      </div>\n    );\n  }\n}\n\nexport default RecentActivity;\n"]},"metadata":{},"sourceType":"module"}