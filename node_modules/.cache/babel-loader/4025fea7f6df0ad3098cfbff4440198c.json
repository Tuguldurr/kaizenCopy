{"ast":null,"code":"import _defineProperty from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tuguldursaikhan/Desktop/kaizen/src/components/todo/ToDoDetail/index.js\";\nimport React from \"react\";\nimport { Avatar, Badge, Col, DatePicker, Input, Menu, Row } from \"antd\";\nimport Moment from \"moment\";\nimport CustomScrollbars from \"util/CustomScrollbars\";\nimport labels from \"routes/inBuiltApps/Todo/data/labels\";\nimport users from \"routes/inBuiltApps/Todo/data/users\";\nimport ConversationCell from \"./ConversationCell\";\nvar TextArea = Input.TextArea;\n\nvar ToDoDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ToDoDetail, _React$Component);\n\n  function ToDoDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ToDoDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToDoDetail).call(this, props));\n\n    _this.handleLabelClick = function (event) {\n      _this.setState({\n        labelMenu: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleUserClick = function (event) {\n      _this.setState({\n        userMenu: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleRequestClose = function () {\n      _this.setState({\n        userMenu: false,\n        labelMenu: false\n      });\n    };\n\n    _this._handleKeyPress = function (e) {\n      if (e.key === 'Enter') {\n        _this.submitComment();\n      }\n    };\n\n    _this.handleEditTitle = function () {\n      if (_this.state.editTitle) {\n        var todo = _this.state.todo;\n        todo.title = _this.state.title;\n\n        _this.props.onToDoUpdate(todo);\n      }\n\n      _this.setState({\n        editTitle: !_this.state.editTitle\n      });\n    };\n\n    _this.handleEditNote = function () {\n      if (_this.state.note) {\n        var todo = _this.state.todo;\n        todo.note = _this.state.note;\n\n        _this.props.onToDoUpdate(todo);\n      }\n\n      _this.setState({\n        editNote: !_this.state.editNote\n      });\n    };\n\n    _this.handleDueDateChange = function (date) {\n      _this.setState({\n        todo: _objectSpread({}, _this.state.todo, {\n          dueDate: date\n        })\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.optionMenu = function () {\n      return React.createElement(Menu, {\n        id: \"label-menu\",\n        onClick: _this.handleRequestClose,\n        onClose: _this.handleRequestClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, users.map(function (user, index) {\n        return React.createElement(Menu.Item, {\n          key: index,\n          value: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"gx-d-flex gx-user-name gx-align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Avatar, {\n          src: user.thumb,\n          alt: user.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, user.name)));\n      }));\n    };\n\n    _this.labelMenu = function () {\n      return React.createElement(Menu, {\n        id: \"label-menu\",\n        onClick: _this.handleRequestClose(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, labels.map(function (label) {\n        return React.createElement(Menu.Item, {\n          key: label.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, label.title);\n      }));\n    };\n\n    var _props$todo = props.todo,\n        title = _props$todo.title,\n        notes = _props$todo.notes;\n    var conversation = props.conversation;\n    _this.state = {\n      todo: props.todo,\n      title: title,\n      notes: notes,\n      anchorEl: undefined,\n      userMenu: false,\n      labelMenu: false,\n      editTitle: false,\n      editNote: false,\n      message: '',\n      conversation: conversation\n    };\n    _this.handleRequestClose = _this.handleRequestClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ToDoDetail, [{\n    key: \"submitComment\",\n    value: function submitComment() {\n      if (this.state.message !== '') {\n        var updatedConversation = this.state.conversation.concat({\n          'name': this.props.user.name,\n          'thumb': this.props.user.avatar,\n          'message': this.state.message,\n          'sentAt': Moment().format('ddd DD, YYYY, hh:mm:ss A')\n        });\n        this.setState({\n          conversation: updatedConversation,\n          message: ''\n        });\n      }\n    }\n  }, {\n    key: \"updateMessageValue\",\n    value: function updateMessageValue(evt) {\n      this.setState({\n        message: evt.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          onToDoUpdate = _this$props.onToDoUpdate,\n          onDeleteToDo = _this$props.onDeleteToDo;\n      var _this$state = this.state,\n          todo = _this$state.todo,\n          editNote = _this$state.editNote,\n          editTitle = _this$state.editTitle,\n          title = _this$state.title,\n          notes = _this$state.notes,\n          message = _this$state.message,\n          conversation = _this$state.conversation;\n      var user = null;\n      if (todo.user > 0) user = users.find(function (user) {\n        return user.id === todo.user;\n      });\n      return React.createElement(\"div\", {\n        className: \"gx-module-detail gx-module-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(CustomScrollbars, {\n        className: \"gx-todo-detail-content-scroll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-module-detail-item gx-module-detail-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 12,\n        md: 17,\n        lg: 12,\n        xl: 17,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-flex-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-user-name gx-mr-md-4 gx-mr-2 gx-my-1\",\n        onClick: this.handleUserClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, user === null ? React.createElement(\"h4\", {\n        className: \"gx-mb-0 gx-pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Assign User \") : React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center gx-pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"gx-mr-2\",\n        src: user.thumb,\n        alt: user.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        className: \"gx-mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, user.name))), React.createElement(DatePicker, {\n        className: \"gx-module-date gx-my-1\",\n        defaultValue: todo.dueDate !== null ? Moment(todo.dueDate, 'dddd, MMMM DD, YYYY h:mm a') : undefined,\n        invalidLabel: \"Due Date\",\n        format: \"MMMM DD, YYYY\",\n        onChange: this.handleDueDateChange.bind(this),\n        animateYearScrolling: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        xs: 24,\n        sm: 12,\n        md: 7,\n        lg: 12,\n        xl: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-flex-row gx-justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-trash\",\n        onClick: function onClick() {\n          onDeleteToDo(todo);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"gx-d-block\",\n        onClick: function onClick() {\n          todo.starred = !todo.starred;\n          onToDoUpdate(todo);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, todo.starred ? React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-star-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"gx-d-block\",\n        onClick: function onClick() {\n          todo.important = !todo.important;\n          onToDoUpdate(todo);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, todo.important ? React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-important\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-important-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"gx-d-block\",\n        onClick: this.handleLabelClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"gx-module-detail-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-mb-md-4 gx-mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, labels.map(function (label, index) {\n        return todo.labels.includes(label.id) && React.createElement(Badge, {\n          key: index,\n          count: label.title,\n          style: {\n            backgroundColor: label.color\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        });\n      })), React.createElement(\"div\", {\n        className: \"gx-form-group gx-flex-row gx-align-items-center gx-mb-0 gx-flex-nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick(event) {\n          todo.completed = !todo.completed;\n          onToDoUpdate(todo);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, todo.completed ? React.createElement(\"span\", {\n        className: \"gx-border-2 gx-size-30 gx-rounded-circle gx-text-green gx-border-green gx-d-block gx-text-center gx-pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })) : React.createElement(\"span\", {\n        className: \"gx-border-2 gx-size-30 gx-rounded-circle gx-text-muted gx-border-grey gx-d-block gx-text-center gx-pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }))), editTitle ? React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Input, {\n        fullWidth: true,\n        className: \"gx-task-title\",\n        id: \"required\",\n        placeholder: \"Title\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            title: event.target.value\n          });\n        },\n        defaultValue: title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"gx-d-block gx-size-40 gx-text-center gx-pointer\",\n        onClick: this.handleEditTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-task-title gx-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, title), React.createElement(\"span\", {\n        className: \"gx-d-block gx-size-40 gx-text-center gx-pointer\",\n        onClick: this.handleEditTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"gx-module-detail-item gx-mb-md-4 gx-mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, editNote ? React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-task-input gx-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Input, {\n        fullWidth: true,\n        id: \"required\",\n        placeholder: \"Note\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            notes: event.target.value\n          });\n        },\n        defaultValue: notes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"gx-d-block gx-size-40 gx-text-center gx-pointer\",\n        onClick: this.handleEditNote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-task-des gx-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, notes === '' ? 'Add note here' : notes), React.createElement(\"span\", {\n        className: \"gx-d-block gx-size-40 gx-text-center gx-pointer\",\n        onClick: this.handleEditNote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"gx-module-detail-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"gx-mb-0 gx-mb-sm-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Comments\")), conversation.map(function (conversation, index) {\n        return React.createElement(ConversationCell, {\n          key: index,\n          conversation: conversation,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        });\n      })), React.createElement(\"div\", {\n        className: \"gx-chat-main-footer gx-todo-main-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-flex-row gx-align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        className: \"gx-border-0 ant-input gx-chat-textarea\",\n        id: \"required\",\n        onKeyUp: this._handleKeyPress.bind(this),\n        onChange: this.updateMessageValue.bind(this),\n        value: message,\n        rows: 2,\n        placeholder: \"Type and hit enter to send message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"gx-chat-sent\",\n        onClick: this.submitComment.bind(this),\n        \"aria-label\": \"Send message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"gx-icon-btn icon icon-sent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ToDoDetail;\n}(React.Component);\n\nexport default ToDoDetail;","map":{"version":3,"sources":["/home/tuguldursaikhan/Desktop/kaizen/src/components/todo/ToDoDetail/index.js"],"names":["React","Avatar","Badge","Col","DatePicker","Input","Menu","Row","Moment","CustomScrollbars","labels","users","ConversationCell","TextArea","ToDoDetail","props","handleLabelClick","event","setState","labelMenu","anchorEl","currentTarget","handleUserClick","userMenu","handleRequestClose","_handleKeyPress","e","key","submitComment","handleEditTitle","state","editTitle","todo","title","onToDoUpdate","handleEditNote","note","editNote","handleDueDateChange","date","dueDate","handleChange","target","name","value","optionMenu","map","user","index","id","thumb","label","notes","conversation","undefined","message","bind","updatedConversation","concat","avatar","format","evt","onDeleteToDo","find","starred","important","includes","backgroundColor","color","completed","updateMessageValue","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Avatar, Badge, Col, DatePicker, Input, Menu, Row} from \"antd\";\nimport Moment from \"moment\";\nimport CustomScrollbars from \"util/CustomScrollbars\";\n\nimport labels from \"routes/inBuiltApps/Todo/data/labels\";\nimport users from \"routes/inBuiltApps/Todo/data/users\";\nimport ConversationCell from \"./ConversationCell\";\n\nconst {TextArea} = Input;\n\nclass ToDoDetail extends React.Component {\n  handleLabelClick = event => {\n    this.setState({labelMenu: true, anchorEl: event.currentTarget});\n  };\n  handleUserClick = event => {\n    this.setState({userMenu: true, anchorEl: event.currentTarget});\n  };\n  handleRequestClose = () => {\n    this.setState({userMenu: false, labelMenu: false});\n  };\n  _handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submitComment();\n    }\n  };\n  handleEditTitle = () => {\n    if (this.state.editTitle) {\n      const todo = this.state.todo;\n      todo.title = this.state.title;\n      this.props.onToDoUpdate(todo)\n    }\n    this.setState({\n      editTitle: !this.state.editTitle\n    });\n  };\n  handleEditNote = () => {\n    if (this.state.note) {\n      const todo = this.state.todo;\n      todo.note = this.state.note;\n      this.props.onToDoUpdate(todo)\n    }\n    this.setState({\n      editNote: !this.state.editNote\n    });\n  };\n  handleDueDateChange = (date) => {\n    this.setState({\n      todo: {...this.state.todo, dueDate: date}\n    });\n  };\n  handleChange = event => {\n    this.setState({[event.target.name]: event.target.value});\n  };\n  optionMenu = () => {\n    return (<Menu\n      id=\"label-menu\" onClick={this.handleRequestClose}\n      onClose={this.handleRequestClose}>\n      {users.map((user, index) =>\n        <Menu.Item key={index} value={user.id}>\n          <div className=\"gx-d-flex gx-user-name gx-align-items-center\">\n            <Avatar src={user.thumb} alt={user.name}/><h4>{user.name}</h4>\n          </div>\n        </Menu.Item>\n      )}\n\n    </Menu>)\n  };\n  labelMenu = () => {\n    return (<Menu id=\"label-menu\" onClick={this.handleRequestClose()}>\n      {labels.map(label =>\n        <Menu.Item key={label.id}>\n          {label.title}\n        </Menu.Item>,\n      )}\n    </Menu>)\n\n  };\n\n  constructor(props) {\n    super(props);\n    const {title, notes} = props.todo;\n    const {conversation} = props;\n    this.state = {\n      todo: props.todo,\n      title,\n      notes,\n      anchorEl: undefined,\n      userMenu: false,\n      labelMenu: false,\n      editTitle: false,\n      editNote: false,\n      message: '',\n      conversation\n    };\n    this.handleRequestClose = this.handleRequestClose.bind(this)\n  }\n\n  submitComment() {\n    if (this.state.message !== '') {\n      const updatedConversation = this.state.conversation.concat({\n        'name': this.props.user.name,\n        'thumb': this.props.user.avatar,\n        'message': this.state.message,\n        'sentAt': Moment().format('ddd DD, YYYY, hh:mm:ss A'),\n      });\n      this.setState({\n        conversation: updatedConversation,\n        message: '',\n      });\n    }\n  }\n\n  updateMessageValue(evt) {\n    this.setState({\n      message: evt.target.value\n    });\n  }\n\n  render() {\n    const {onToDoUpdate, onDeleteToDo} = this.props;\n    const {todo, editNote, editTitle, title, notes, message, conversation} = this.state;\n    let user = null;\n    if (todo.user > 0)\n      user = users.find((user) => user.id === todo.user);\n\n    return (\n      <div className=\"gx-module-detail gx-module-list\">\n        <CustomScrollbars className=\"gx-todo-detail-content-scroll\">\n          <div className=\"gx-module-detail-item gx-module-detail-header\">\n            <Row>\n              <Col xs={24} sm={12} md={17} lg={12} xl={17}>\n                <div className=\"gx-flex-row\">\n                  <div className=\"gx-user-name gx-mr-md-4 gx-mr-2 gx-my-1\"\n                       onClick={this.handleUserClick}>\n\n                    {user === null ? <h4 className=\"gx-mb-0 gx-pointer\">Assign User </h4> :\n                      <div className=\"gx-flex-row gx-align-items-center gx-pointer\">\n                        <Avatar className=\"gx-mr-2\" src={user.thumb} alt={user.name}/>\n                        <h4 className=\"gx-mb-0\">{user.name}</h4>\n                      </div>}\n                  </div>\n                  <DatePicker className=\"gx-module-date gx-my-1\"\n                              defaultValue={todo.dueDate !== null ? Moment(todo.dueDate, 'dddd, MMMM DD, YYYY h:mm a') : undefined}\n                              invalidLabel=\"Due Date\"\n                              format=\"MMMM DD, YYYY\"\n                              onChange={this.handleDueDateChange.bind(this)}\n                              animateYearScrolling={false}/>\n\n\n                </div>\n              </Col>\n\n              <Col xs={24} sm={12} md={7} lg={12} xl={7}>\n                <div className=\"gx-flex-row gx-justify-content-between\">\n                  <i className=\"gx-icon-btn icon icon-trash\" onClick={() => {\n                    onDeleteToDo(todo);\n                  }}/>\n\n                  <span className=\"gx-d-block\" onClick={() => {\n                    todo.starred = !todo.starred;\n                    onToDoUpdate(todo);\n                  }}>\n                        {todo.starred ?\n                          <i className=\"gx-icon-btn icon icon-star\"/> :\n                          <i className=\"gx-icon-btn icon icon-star-o\"/>\n                        }\n\n                  </span>\n\n                  <span className=\"gx-d-block\" onClick={() => {\n                    todo.important = !todo.important;\n                    onToDoUpdate(todo);\n                  }}>\n                        {todo.important ?\n                          <i className=\"gx-icon-btn icon icon-important\"/> :\n                          <i className=\"gx-icon-btn icon icon-important-o\"/>\n                        }\n\n                  </span>\n                  <span className=\"gx-d-block\" onClick={this.handleLabelClick}>\n                          <i className=\"gx-icon-btn icon icon-tag\"/>\n                  </span>\n\n\n                </div>\n              </Col>\n            </Row>\n          </div>\n\n          <div className=\"gx-module-detail-item\">\n\n            <div className=\"gx-mb-md-4 gx-mb-2\">\n              {labels.map((label, index) => {\n                return (todo.labels).includes(label.id) &&\n                  <Badge key={index} count={label.title} style={{backgroundColor: label.color}}/>\n              })}\n            </div>\n\n            <div className=\"gx-form-group gx-flex-row gx-align-items-center gx-mb-0 gx-flex-nowrap\">\n              <div onClick={(event) => {\n                todo.completed = !todo.completed;\n                onToDoUpdate(todo);\n              }}>\n                {todo.completed ?\n                  <span\n                    className=\"gx-border-2 gx-size-30 gx-rounded-circle gx-text-green gx-border-green gx-d-block gx-text-center gx-pointer\">\n                                        <i className=\"icon icon-check\"/></span>\n                  : <span\n                    className=\"gx-border-2 gx-size-30 gx-rounded-circle gx-text-muted gx-border-grey gx-d-block gx-text-center gx-pointer\">\n                                        <i className=\"icon icon-check\"/>\n                                    </span>\n                }\n              </div>\n              {editTitle ?\n                <div className=\"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\">\n                  <div className=\"gx-col\">\n                    <Input\n                      fullWidth\n                      className=\"gx-task-title\"\n                      id=\"required\"\n                      placeholder=\"Title\"\n                      onChange={(event) => this.setState({title: event.target.value})}\n                      defaultValue={title}/>\n                  </div>\n\n                  <span className=\"gx-d-block gx-size-40 gx-text-center gx-pointer\"\n                        onClick={this.handleEditTitle}>\n                    <i className=\"gx-icon-btn icon icon-edit\"/>\n                  </span>\n                </div> :\n                <div className=\"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\">\n                  <div className=\"gx-task-title gx-col\">\n                    {title}\n                  </div>\n                  <span className=\"gx-d-block gx-size-40 gx-text-center gx-pointer\"\n                        onClick={this.handleEditTitle}>\n                    <i className=\"gx-icon-btn icon icon-edit\"/>\n                  </span>\n\n                </div>}\n            </div>\n\n          </div>\n\n          <div className=\"gx-module-detail-item gx-mb-md-4 gx-mb-2\">\n            {editNote ?\n              <div className=\"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\">\n                <div className=\"gx-task-input gx-col\">\n                  <Input\n                    fullWidth\n                    id=\"required\"\n                    placeholder=\"Note\"\n                    onChange={(event) => this.setState({notes: event.target.value})}\n                    defaultValue={notes}/>\n                </div>\n\n                <span className=\"gx-d-block gx-size-40 gx-text-center gx-pointer\" onClick={this.handleEditNote}>\n                    <i className=\"gx-icon-btn icon icon-edit\"/>\n                </span>\n              </div> :\n              <div className=\"gx-flex-row gx-align-items-center gx-justify-content-between gx-flex-1 gx-flex-nowrap\">\n                <div className=\"gx-task-des gx-col\">\n                  {notes === '' ? 'Add note here' : notes}\n                </div>\n                <span className=\"gx-d-block gx-size-40 gx-text-center gx-pointer\"\n                      onClick={this.handleEditNote}>\n                  <i className=\"gx-icon-btn icon icon-edit\"/>\n                </span>\n\n              </div>}\n          </div>\n          <div className=\"gx-module-detail-item\">\n            <h3 className=\"gx-mb-0 gx-mb-sm-1\">Comments</h3>\n          </div>\n          {conversation.map((conversation, index) =>\n            <ConversationCell key={index} conversation={conversation}/>\n          )}\n\n        </CustomScrollbars>\n\n\n        <div className=\"gx-chat-main-footer gx-todo-main-footer\">\n          <div className=\"gx-flex-row gx-align-items-center\">\n            <div className=\"gx-col\">\n              <div className=\"gx-form-group\">\n                <TextArea className=\"gx-border-0 ant-input gx-chat-textarea\"\n                          id=\"required\"\n                          onKeyUp={this._handleKeyPress.bind(this)}\n                          onChange={this.updateMessageValue.bind(this)}\n                          value={message}\n                          rows={2}\n                          placeholder=\"Type and hit enter to send message\"/>\n              </div>\n            </div>\n\n            <div className=\"gx-chat-sent\"\n                 onClick={this.submitComment.bind(this)}\n                 aria-label=\"Send message\">\n              <i className=\"gx-icon-btn icon icon-sent\"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToDoDetail;\n"]},"metadata":{},"sourceType":"module"}