{"ast":null,"code":"import _classCallCheck from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tuguldursaikhan/Desktop/kaizen/src/routes/algolia/urlSync.js\";\nimport React, { Component } from 'react';\nimport qs from 'qs';\nvar updateAfter = 700;\n\nvar searchStateToUrl = function searchStateToUrl(searchState) {\n  return searchState ? \"\".concat(window.location.pathname, \"?\").concat(qs.stringify(searchState)) : '';\n};\n\nexport var withUrlSync = function withUrlSync(App) {\n  var _temp;\n\n  return _temp =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(urlSync, _Component);\n\n    function urlSync() {\n      var _this;\n\n      _classCallCheck(this, urlSync);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(urlSync).call(this));\n\n      _this.onSearchStateChange = function (searchState) {\n        clearTimeout(_this.debouncedSetState);\n        _this.debouncedSetState = setTimeout(function () {\n          window.history.pushState(searchState, null, searchStateToUrl(searchState));\n        }, updateAfter);\n\n        _this.setState({\n          searchState: searchState\n        });\n      };\n\n      _this.state = {\n        searchState: qs.parse(window.location.search.slice(1))\n      };\n      window.addEventListener('popstate', function (_ref) {\n        var searchState = _ref.state;\n        return _this.setState({\n          searchState: searchState\n        });\n      });\n      return _this;\n    }\n\n    _createClass(urlSync, [{\n      key: \"render\",\n      value: function render() {\n        return React.createElement(App, Object.assign({}, this.props, {\n          searchState: this.state.searchState,\n          onSearchStateChange: this.onSearchStateChange,\n          createURL: searchStateToUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return urlSync;\n  }(Component), _temp;\n};","map":{"version":3,"sources":["/home/tuguldursaikhan/Desktop/kaizen/src/routes/algolia/urlSync.js"],"names":["React","Component","qs","updateAfter","searchStateToUrl","searchState","window","location","pathname","stringify","withUrlSync","App","onSearchStateChange","clearTimeout","debouncedSetState","setTimeout","history","pushState","setState","state","parse","search","slice","addEventListener","props"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,IAAMC,WAAW,GAAG,GAApB;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,WAAW;AAAA,SAClCA,WAAW,aAAMC,MAAM,CAACC,QAAP,CAAgBC,QAAtB,cAAkCN,EAAE,CAACO,SAAH,CAAaJ,WAAb,CAAlC,IAAgE,EADzC;AAAA,CAApC;;AAGA,OAAO,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAAAC,GAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAc1B,uBAAc;AAAA;;AAAA;;AACZ;;AADY,YAZdC,mBAYc,GAZQ,UAAAP,WAAW,EAAI;AACnCQ,QAAAA,YAAY,CAAC,MAAKC,iBAAN,CAAZ;AACA,cAAKA,iBAAL,GAAyBC,UAAU,CAAC,YAAM;AACxCT,UAAAA,MAAM,CAACU,OAAP,CAAeC,SAAf,CACEZ,WADF,EAEE,IAFF,EAGED,gBAAgB,CAACC,WAAD,CAHlB;AAKD,SANkC,EAMhCF,WANgC,CAAnC;;AAOA,cAAKe,QAAL,CAAc;AAACb,UAAAA,WAAW,EAAXA;AAAD,SAAd;AACD,OAEa;;AAEZ,YAAKc,KAAL,GAAa;AAACd,QAAAA,WAAW,EAAEH,EAAE,CAACkB,KAAH,CAASd,MAAM,CAACC,QAAP,CAAgBc,MAAhB,CAAuBC,KAAvB,CAA6B,CAA7B,CAAT;AAAd,OAAb;AACAhB,MAAAA,MAAM,CAACiB,gBAAP,CAAwB,UAAxB,EAAoC;AAAA,YAASlB,WAAT,QAAEc,KAAF;AAAA,eAClC,MAAKD,QAAL,CAAc;AAACb,UAAAA,WAAW,EAAXA;AAAD,SAAd,CADkC;AAAA,OAApC;AAHY;AAMb;;AApByB;AAAA;AAAA,+BAsBjB;AACP,eACE,oBAAC,GAAD,oBACM,KAAKmB,KADX;AAEE,UAAA,WAAW,EAAE,KAAKL,KAAL,CAAWd,WAF1B;AAGE,UAAA,mBAAmB,EAAE,KAAKO,mBAH5B;AAIE,UAAA,SAAS,EAAER,gBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAQD;AA/ByB;;AAAA;AAAA,IACNH,SADM;AAAA,CAAvB","sourcesContent":["import React, {Component} from 'react';\nimport qs from 'qs';\n\nconst updateAfter = 700;\nconst searchStateToUrl = searchState =>\n  searchState ? `${window.location.pathname}?${qs.stringify(searchState)}` : '';\n\nexport const withUrlSync = App =>\n  class urlSync extends Component {\n    onSearchStateChange = searchState => {\n      clearTimeout(this.debouncedSetState);\n      this.debouncedSetState = setTimeout(() => {\n        window.history.pushState(\n          searchState,\n          null,\n          searchStateToUrl(searchState)\n        );\n      }, updateAfter);\n      this.setState({searchState});\n    };\n\n    constructor() {\n      super();\n      this.state = {searchState: qs.parse(window.location.search.slice(1))};\n      window.addEventListener('popstate', ({state: searchState}) =>\n        this.setState({searchState})\n      );\n    }\n\n    render() {\n      return (\n        <App\n          {...this.props}\n          searchState={this.state.searchState}\n          onSearchStateChange={this.onSearchStateChange}\n          createURL={searchStateToUrl}\n        />\n      );\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}