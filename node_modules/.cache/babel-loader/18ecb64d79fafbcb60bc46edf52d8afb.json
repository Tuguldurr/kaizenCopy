{"ast":null,"code":"import _classCallCheck from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tuguldursaikhan/Desktop/kaizen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tuguldursaikhan/Desktop/kaizen/src/components/wall/WriteBox/index.js\";\nimport React, { Component } from \"react\";\nimport { Avatar, Button, Card, Divider, Icon, Input, Modal, Upload } from \"antd\";\nvar TextArea = Input.TextArea;\n\nvar WriteBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(WriteBox, _Component);\n\n  function WriteBox() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, WriteBox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WriteBox)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      commentText: '',\n      previewVisible: false,\n      previewImage: '',\n      fileList: [],\n      isOpen: false\n    };\n\n    _this.handleCancel = function () {\n      return _this.setState({\n        previewVisible: false\n      });\n    };\n\n    _this.handlePreview = function (file) {\n      console.log(\"previewImage\", file);\n\n      _this.setState({\n        previewImage: file.url || file.thumbUrl,\n        previewVisible: true\n      });\n    };\n\n    _this.handleChange = function (_ref) {\n      var fileList = _ref.fileList;\n      console.log(\"fileList\", fileList);\n\n      _this.setState({\n        fileList: fileList\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(WriteBox, [{\n    key: \"handleClickImage\",\n    value: function handleClickImage() {\n      this.setState(function (previousState) {\n        return {\n          isOpen: !previousState.isOpen\n        };\n      });\n    }\n  }, {\n    key: \"handleAddPost\",\n    value: function handleAddPost() {\n      this.props.addPost(this.state.commentText, this.state.fileList);\n      this.setState({\n        commentText: '',\n        previewVisible: false,\n        previewImage: '',\n        fileList: [],\n        isOpen: false\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState({\n        commentText: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          previewVisible = _this$state.previewVisible,\n          previewImage = _this$state.previewImage,\n          fileList = _this$state.fileList;\n      var isEnabled = this.state.fileList.length === 0 && this.state.commentText === \"\";\n      var uploadButton = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Upload\"));\n      return React.createElement(Card, {\n        className: \"gx-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-media gx-mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"gx-size-50 gx-mr-3\",\n        src: this.props.user.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"gx-media-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        className: \"gx-border-0\",\n        id: \"exampleTextarea\",\n        value: this.state.commentText,\n        multiline: \"true\",\n        rows: 4,\n        onChange: function onChange(event) {\n          return _this2.onChange(event);\n        },\n        placeholder: \"Whats in your mind?\",\n        margin: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"gx-clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.isOpen === true ? React.createElement(Upload, {\n        action: \"//jsonplaceholder.typicode.com/posts/\",\n        listType: \"picture-card\",\n        fileList: fileList,\n        onPreview: this.handlePreview,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, fileList.length >= 8 ? null : uploadButton) : null, React.createElement(Modal, {\n        visible: previewVisible,\n        footer: null,\n        onCancel: this.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"example\",\n        style: {\n          width: '100%'\n        },\n        src: previewImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ant-row-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gx-pointer\",\n        onClick: this.handleClickImage.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-camera gx-mr-2 gx-fs-xl gx-d-inline-flex gx-vertical-align-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"gx-fs-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" Add Photos/Album \")), React.createElement(Button, {\n        type: \"primary\",\n        size: \"small\",\n        className: \"gx-ml-auto gx-mb-0\",\n        disabled: isEnabled ? \"disabled\" : \"\",\n        onClick: this.handleAddPost.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"SEND\")));\n    }\n  }]);\n\n  return WriteBox;\n}(Component);\n\nexport default WriteBox;","map":{"version":3,"sources":["/home/tuguldursaikhan/Desktop/kaizen/src/components/wall/WriteBox/index.js"],"names":["React","Component","Avatar","Button","Card","Divider","Icon","Input","Modal","Upload","TextArea","WriteBox","state","commentText","previewVisible","previewImage","fileList","isOpen","handleCancel","setState","handlePreview","file","console","log","url","thumbUrl","handleChange","previousState","props","addPost","e","target","value","isEnabled","length","uploadButton","user","image","event","onChange","width","handleClickImage","bind","handleAddPost"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {Avatar, Button, Card, Divider, Icon, Input, Modal, Upload} from \"antd\";\n\nconst {TextArea} = Input;\n\nclass WriteBox extends Component {\n\n  state = {\n    commentText: '',\n    previewVisible: false,\n    previewImage: '',\n    fileList: [],\n    isOpen: false,\n  };\n\n  handleCancel = () => this.setState({previewVisible: false})\n\n  handlePreview = (file) => {\n    console.log(\"previewImage\", file)\n    this.setState({\n      previewImage: file.url || file.thumbUrl,\n      previewVisible: true,\n    });\n  }\n\n  handleChange = ({fileList}) => {\n    console.log(\"fileList\", fileList)\n    this.setState({fileList})\n  }\n\n  handleClickImage() {\n    this.setState((previousState) => ({\n      isOpen: !previousState.isOpen\n    }));\n  }\n\n  handleAddPost() {\n    this.props.addPost(this.state.commentText, this.state.fileList);\n    this.setState({\n      commentText: '',\n      previewVisible: false,\n      previewImage: '',\n      fileList: [],\n      isOpen: false,\n    });\n  }\n\n  onChange(e) {\n    this.setState({commentText: e.target.value})\n  }\n\n  render() {\n    const {previewVisible, previewImage, fileList} = this.state;\n    const isEnabled = this.state.fileList.length === 0 && this.state.commentText === \"\";\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\"/>\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n\n    return (\n      <Card className=\"gx-card\">\n        <div className=\"gx-media gx-mb-2\">\n          <Avatar className=\"gx-size-50 gx-mr-3\" src={this.props.user.image}/>\n          <div className=\"gx-media-body\">\n          <TextArea className=\"gx-border-0\"\n                    id=\"exampleTextarea\"\n                    value={this.state.commentText}\n                    multiline=\"true\"\n                    rows={4}\n                    onChange={(event) => this.onChange(event)}\n                    placeholder=\"Whats in your mind?\"\n                    margin=\"none\"/>\n          </div>\n        </div>\n\n        <div className=\"gx-clearfix\">\n          {this.state.isOpen === true ? <Upload\n            action=\"//jsonplaceholder.typicode.com/posts/\"\n            listType=\"picture-card\"\n            fileList={fileList}\n            onPreview={this.handlePreview}\n            onChange={this.handleChange}\n          >\n            {fileList.length >= 8 ? null : uploadButton}\n          </Upload> : null}\n\n          <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n            <img alt=\"example\" style={{width: '100%'}} src={previewImage}/>\n          </Modal>\n        </div>\n        <Divider/>\n\n        <div className=\"ant-row-flex\">\n          <div className=\"gx-pointer\" onClick={this.handleClickImage.bind(this)}>\n            <i className=\"icon icon-camera gx-mr-2 gx-fs-xl gx-d-inline-flex gx-vertical-align-middle\"/>\n            <span className=\"gx-fs-sm\"> Add Photos/Album </span>\n          </div>\n\n          <Button type=\"primary\" size='small' className=\"gx-ml-auto gx-mb-0\"\n                  disabled={(isEnabled) ? \"disabled\" : \"\"}\n                  onClick={this.handleAddPost.bind(this)}>SEND\n          </Button>\n        </div>\n      </Card>\n    )\n  }\n}\n\nexport default WriteBox;\n"]},"metadata":{},"sourceType":"module"}